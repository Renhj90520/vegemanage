<div id="page-wrapper">
  <h3>商品管理</h3>
  <hr>
  <div class="condition">
    <form class="form-inline">
      <div class="form-group">
        <label for="pname">名称:</label>
        <input class="form-control" id="pname" name="pname" type="text" [(ngModel)]="condition.name">
      </div>
      <div class="form-group">
        <label for="pcategroy">分类：</label>
        <select class="form-control" id="pcategory" name="category" [(ngModel)]="condition.category">
          <option value="{{category.id}}" *ngFor="let category of categories">{{category.name}}</option>
        </select>
      </div>
      <button class="btn btn-primary btn-sm" (click)="onSearch()"><i class="glyphicon glyphicon-search"></i></button>
      <button class="btn btn-primary btn-sm" (click)="onClear()">清除</button>
      <button class="btn btn-primary right" (click)="onAddProduct()">添加商品</button>
    </form>
  </div>
  <hr class="clear">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>名称</th>
        <th>价格</th>
        <th>单位</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{product.name}}</td>
        <td>{{product.price}}</td>
        <td>{{product.unitName}}</td>
        <td>
          <i class="glyphicon glyphicon-edit operator" (click)="onEdit(product)"></i>
          <i class="glyphicon glyphicon-trash operator" (click)="onDelete(product)"></i></td>
      </tr>
    </tbody>
  </table>

  <ul class="pagination pagerbottom" *ngIf="pages.length>0">
    <li [class.disabled]="index<=1"><a (click)="onPrev()">&laquo;</a></li>
    <li *ngFor="let page of pages" [class.active]="page==index"><a (click)="onPageClick(page)">{{page}}</a></li>
    <li [class.disabled]="index*20>=count"><a (click)="onNext()">&raquo;</a></li>
  </ul>
</div>